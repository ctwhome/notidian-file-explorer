/*
This CSS file will be included with your plugin, and
available in the app when your plugin is enabled.
*/

/* Main container for the columns */
.onenote-explorer-container {
  display: flex;
  flex-direction: row; /* Arrange columns horizontally */
  height: 100%; /* Fill the available height */
  overflow-x: auto; /* Allow horizontal scrolling if columns overflow */
  overflow-y: hidden; /* Prevent vertical scrolling on the container itself */
  background-color: var(--background-primary); /* Use theme background */
}

/* Individual column styling */
.onenote-explorer-column {
  flex: 0 0 auto; /* Prevent columns from growing or shrinking */
  width: 250px; /* Fixed width for each column, adjust as needed */
  height: 100%; /* Make columns fill the container height */
  overflow-y: auto; /* Allow vertical scrolling within each column */
  border-right: 1px solid var(--background-modifier-border); /* Separator line */
  padding: 5px;
  box-sizing: border-box; /* Include padding and border in the element's total width and height */
}

/* Styling for each file/folder item */
.onenote-explorer-item {
  padding: 4px 8px;
  margin-bottom: 2px;
  border-radius: var(--radius-s); /* Use theme border radius */
  cursor: pointer;
  display: flex;
  align-items: center;
  white-space: nowrap; /* Prevent text wrapping */
  /* overflow: hidden; -- Remove this, let title handle overflow */
  color: var(--text-normal); /* Use theme text color */
  justify-content: space-between; /* Push arrow to the right */
}

/* Hover effect for items */
.onenote-explorer-item:hover {
  background-color: var(--background-modifier-hover);
}

/* Styling for the final selected item (brightest) */
.onenote-explorer-item.is-selected-final {
  background-color: var(--interactive-accent); /* Use theme accent color */
  color: var(--text-on-accent); /* Use text color suitable for accent background */
}

/* Styling for items selected in the path (dimmer) */
.onenote-explorer-item.is-selected-path {
  /* Use hover background for a more reliable subtle path highlight */
  background-color: var(--background-modifier-hover);
  color: var(--text-normal); /* Use normal text color */
}

/* Icon styling */
.onenote-explorer-item-icon {
  margin-right: 6px;
  flex-shrink: 0; /* Prevent icon from shrinking */
}

/* Title styling */
.onenote-explorer-item-title {
  overflow: hidden; /* Keep overflow handling on title */
  text-overflow: ellipsis;
  white-space: nowrap;
  flex-grow: 1; /* Allow title to take up space */
  margin-right: 6px; /* Add space between title and arrow */
}

/* Arrow icon styling */
.onenote-explorer-item-arrow {
  flex-shrink: 0; /* Prevent arrow from shrinking */
  color: var(--text-faint); /* Make arrow less prominent */
}

/* Hide arrow for non-folder items */
.onenote-explorer-item.nav-file .onenote-explorer-item-arrow {
  display: none;
}

/* Change arrow color on final selection/hover */
.onenote-explorer-item.is-selected-final .onenote-explorer-item-arrow,
.onenote-explorer-item:hover .onenote-explorer-item-arrow {
    color: var(--text-on-accent); /* Match final selected text color */
}
/* Ensure hover arrow color matches hover text color if not finally selected */
.onenote-explorer-item:hover:not(.is-selected-final) .onenote-explorer-item-arrow {
    color: var(--text-normal);
}

/* Arrow color for path selection */
.onenote-explorer-item.is-selected-path .onenote-explorer-item-arrow {
    color: var(--text-faint); /* Keep it faint for path selection */
}

/* Ensure final selected item icon color contrasts with accent background */
.onenote-explorer-item.is-selected-final .onenote-explorer-item-icon {
  color: var(--text-on-accent); /* Ensure main icon also changes color */
}

/* Icon color for path selection */
.onenote-explorer-item.is-selected-path .onenote-explorer-item-icon {
  color: var(--text-normal); /* Use normal color for path selection */
}

/* Drag and Drop Styling */
.onenote-explorer-item.is-dragging {
  opacity: 0.5; /* Make dragged item semi-transparent */
}

.onenote-explorer-item.nav-folder.drag-over {
  /* Highlight folder items when dragging over them */
  background-color: var(--background-modifier-success); /* Or another highlight color */
  outline: 2px dashed var(--interactive-accent);
  outline-offset: -2px;
}

/* Highlight column background when dragging directly over it */
.onenote-explorer-column.drag-over-column {
    background-color: var(--background-secondary-alt); /* Slightly different background */
}


/* Styles for Emoji Icons - Increased Specificity and !important */
.onenote-explorer-container .onenote-explorer-column .onenote-explorer-item .onenote-explorer-item-emoji {
  margin:auto 10px auto -2px; /* Increased spacing + !important */
  display: inline-block ;
  font-size: 1.3rem ; /* Increased size + !important */
  /* Optional: Adjust vertical alignment if needed */
  /* vertical-align: middle; */
}

/* Ensure item content aligns correctly whether using icon or emoji */
/* .onenote-explorer-item { */ /* Already defined above with flex and align-items */
  /* align-items: center; */ /* Ensure vertical alignment - already set */
/* } */

/* Ensure final selected item emoji color contrasts with accent background (usually not needed) */
.onenote-explorer-item.is-selected-final .onenote-explorer-item-emoji {
  /* color: var(--text-on-accent); */ /* Emojis typically retain their color */
}

/* Ensure path selected item emoji color contrasts (usually not needed) */
.onenote-explorer-item.is-selected-path .onenote-explorer-item-emoji {
  /* color: var(--text-normal); */ /* Emojis typically retain their color */
}
